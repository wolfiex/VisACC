<!DOCTYPE html>
<meta charset="utf-8">

<link rel="stylesheet" type="text/css" href="index.css">
<!--<canvas id ='heatmp'></canvas>-->

<iframe id='heatmapiframe' src="" style='position:absolute;border:0;' ></iframe>
<canvas id='canvas_main'></canvas>
<svg></svg>
<div id="selector"></div>

<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="./functions.js"></script>
<link href='https://fonts.googleapis.com/css?family=Open+Sans|Lato|Vidaloka|Fira+Sans|Fredericka+the+Great' rel='stylesheet' type='text/css'>

<script>


this.csvdata=[]
this.graph=[]

//default params
window.onresize = function(event) {location.reload()};
window.scrollTo(window.innerWidth, window.innerHeight);

var constant = 0.5,
    scaled=2.5,
    width = window.innerWidth*scaled,
    height = window.innerHeight*scaled,
    node_sizes=[],
    gooey=true,
    plus_ns=10;


// drawing platforms
var svg = d3.select("svg").attr('width',width).attr('height',height);// nodes
//var canvas = document.querySelector("canvas"),// new fabric.Canvas('canvas'),//document.querySelector("canvas"),    // links
var canvas = document.getElementById('canvas_main');
    context = canvas.getContext("2d");
//var heat = document.getElementById('heatmp');
//    ctxheat = heat.getContext("2d")
var group = svg.append("g").attr("transform", "translate(" + [width/2, height/2] + ")");



canvas.call(d3.zoom()
    .scaleExtent([1 / 2, 4])
    .on("zoom", zoomed));





    function zoomed() {
      context.save();
      context.clearRect(0, 0, width, height);
      context.translate(d3.event.transform.x, d3.event.transform.y);
      context.scale(d3.event.transform.k, d3.event.transform.k);
      drawPoints();
      context.restore();
    }
//drawing program structure
//d3.selectAll('heat').style('opacity',.65).attr('width', width ).attr('height',height);
d3.selectAll('canvas').style('opacity',.65).attr('width', width ).attr('height',height);  //0.5 opacity
d3.select('body').style('background-color', '#222'); // bg colour

d3.csv("./src/fullmcmspecs.csv", function(error, csv) {this.csvdata=csv});     //get list of all species etc

window.color = d3.interpolate("#F6089E", "#3864EB")    //https://github.com/d3/d3-scale




require("./forcegraph.js");

console.log(' text stroke, dim rings, svg text option?), selection, freeze mode. hilight stroke   primary hilight, anothe rsystem lasso selection https://github.com/skokenes/D3-Lasso-Plugin, on select grow text, on hover grow text list  OXYGEN sensor rpi github force    vernouli cells around groupings    ');

</script>
