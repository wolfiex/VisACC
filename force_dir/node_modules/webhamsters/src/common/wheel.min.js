/*
* Title: WebHamsters
* Description: Javascript library to add multi-threading support to javascript by exploiting concurrent web workers
* Author: Austin K. Smith
* Contact: austin@asmithdev.com
* Copyright: 2015 Austin K. Smith - austin@asmithdev.com
* License: Artistic License 2.0
*/
(function(){self.processDataType=function(b,a){if(b==="uint32"){return new Uint32Array(a)}if(b==="uint16"){return new Uint16Array(a)}if(b==="uint8"){return new Uint8Array(a)}if(b==="uint8clamped"){return new Uint8ClampedArray(a)}if(b==="int32"){return new Int32Array(a)}if(b==="int16"){return new Int16Array(a)}if(b==="int8"){return new Int8Array(a)}if(b==="float32"){return new Float32Array(a)}if(b==="float64"){return new Float64Array(a)}return a};self.onmessage=function(a){self.rtn={success:true,data:[]};self.params=a.data;self.fn=new Function(self.params.fn);if(self.fn){self.fn()}else{self.rtn.success=false}if(self.params.dataType&&!self.params.ie){self.rtn.data=self.processDataType(self.params.dataType,self.rtn.data);self.rtn.dataType=self.params.dataType;self.postMessage({results:self.rtn},[rtn.data.buffer])}else{self.postMessage({results:self.rtn})}}})();